{
  "comments": [
    {
      "key": {
        "uuid": "5adbc538_860e5033",
        "filename": "neutron-netns-cleanup.init",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 93
      },
      "writtenOn": "2016-11-02T13:21:02Z",
      "side": 1,
      "message": "the grep -v grep aren\u0027t really necessary. Because the PID list is built, and *then* all of them are killed.\n\nIt doesn\u0027t harm anyone anyway :)",
      "revId": "5637d44ba7c9aabb95f6962267f7250580267ceb",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5adbc538_2c747b9b",
        "filename": "neutron-netns-cleanup.init",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 104
      },
      "writtenOn": "2016-11-04T11:58:09Z",
      "side": 1,
      "message": "so why do we kill just the first one? and why do you think it\u0027s guaranteed that two consequent calls to ps/pgrep will return you the same process?",
      "range": {
        "startLine": 43,
        "startChar": 74,
        "endLine": 43,
        "endChar": 78
      },
      "revId": "5637d44ba7c9aabb95f6962267f7250580267ceb",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5adbc538_0c489f5a",
        "filename": "neutron-netns-cleanup.init",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 104
      },
      "writtenOn": "2016-11-04T11:58:09Z",
      "side": 1,
      "message": "I guess we could add -v grep in other commands instead... Not in this patch.",
      "parentUuid": "5adbc538_860e5033",
      "revId": "5637d44ba7c9aabb95f6962267f7250580267ceb",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5adbc538_ec4a9354",
        "filename": "neutron-netns-cleanup.init",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 104
      },
      "writtenOn": "2016-11-04T11:58:09Z",
      "side": 1,
      "message": "two spaces!!! heresy!!!",
      "range": {
        "startLine": 43,
        "startChar": 97,
        "endLine": 43,
        "endChar": 99
      },
      "revId": "5637d44ba7c9aabb95f6962267f7250580267ceb",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5adbc538_ece61344",
        "filename": "neutron-netns-cleanup.init",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-11-04T12:52:50Z",
      "side": 1,
      "message": "If there are not matching processes first awk will return 0 so in that case it will run \u0027pgrep -P -m 1\u0027 wich outputs error message. We should redirect stderr to /dev/null both for kill and pgrep commands to avoid ugly usage messages in that case.",
      "range": {
        "startLine": 43,
        "startChar": 99,
        "endLine": 43,
        "endChar": 101
      },
      "revId": "5637d44ba7c9aabb95f6962267f7250580267ceb",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5adbc538_2c371bb2",
        "filename": "neutron-netns-cleanup.init",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 93
      },
      "writtenOn": "2016-11-04T13:19:17Z",
      "side": 1,
      "message": "Hmm, I didn\u0027t notice the -m1\n\nThat\u0027s right, we need to iterate over all of the partent processes, save the list of child pids, kill them, kill the child processes.",
      "parentUuid": "5adbc538_ece61344",
      "revId": "5637d44ba7c9aabb95f6962267f7250580267ceb",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5adbc538_0cc17f2e",
        "filename": "neutron-netns-cleanup.init",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 77
      },
      "writtenOn": "2016-11-04T16:24:43Z",
      "side": 1,
      "message": "Why not just use the PGID for all the children processes? (please do not that I\u0027m not usually keen on talking about killing children)",
      "parentUuid": "5adbc538_2c371bb2",
      "revId": "5637d44ba7c9aabb95f6962267f7250580267ceb",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}