{
  "comments": [
    {
      "key": {
        "uuid": "dacfb570_5665d243",
        "filename": "neutron-enable-bridge-firewall.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 172
      },
      "writtenOn": "2016-10-04T15:24:43Z",
      "side": 1,
      "message": "Would it make sense to call only this when net.bridge knobs are not available?\n\n if ! sysctl -N net.bridge 2\u003e\u003e /dev/null; then\n   \u003ccode below\u003e\n fi\n\nNote that this is gonna be called everytime we start an agent. So when somebody is experimenting with configuration options and restarts agent frequently, it\u0027s gonna always trigger the stuff, event though it\u0027s idempotent.",
      "revId": "333ba0f11d91c0d455378d5cd7908676f9da6f1b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dacfb570_36c76e14",
        "filename": "neutron-enable-bridge-firewall.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 104
      },
      "writtenOn": "2016-10-04T15:31:53Z",
      "side": 1,
      "message": "So what if something loaded the kernel modules before, but the default is wrong? Are we to leave it broken?",
      "parentUuid": "dacfb570_5665d243",
      "revId": "333ba0f11d91c0d455378d5cd7908676f9da6f1b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dacfb570_36ee8e8c",
        "filename": "neutron-enable-bridge-firewall.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 172
      },
      "writtenOn": "2016-10-04T15:40:52Z",
      "side": 1,
      "message": "Hm, true. We could generalize the if.\n\nif [ $(sysctl -n net.bridge.bridge-nf-call-{arp,ip6,ip}tables 2\u003e\u003e /dev/null | grep 1 | wc -l) -ne 3 ]; then",
      "parentUuid": "dacfb570_36c76e14",
      "revId": "333ba0f11d91c0d455378d5cd7908676f9da6f1b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dacfb570_f62ee6a4",
        "filename": "neutron-enable-bridge-firewall.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 104
      },
      "writtenOn": "2016-10-04T16:05:26Z",
      "side": 1,
      "message": "Not sure if you are trolling.",
      "parentUuid": "dacfb570_36ee8e8c",
      "revId": "333ba0f11d91c0d455378d5cd7908676f9da6f1b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dacfb570_76e8167d",
        "filename": "neutron-enable-bridge-firewall.sh",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 172
      },
      "writtenOn": "2016-10-04T15:43:03Z",
      "side": 1,
      "message": "Btw I found out it can be done with single line:\n\n/usr/sbin/sysctl -w net.bridge.bridge-nf-call-{arp,ip6,ip}tables\u003d1",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 19,
        "endChar": 4
      },
      "revId": "333ba0f11d91c0d455378d5cd7908676f9da6f1b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}